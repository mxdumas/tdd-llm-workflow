Use real components, mock only external I/O. Use `vi.fn()` (Vitest) or `jest.fn()` for boundaries.
